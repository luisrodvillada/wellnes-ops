name: Frontend CI

on:
    push:
        branches:
            - main
            - feature/**
    pull_request:

jobs:
    frontend-ci:
        runs-on: self-hosted # ‚Üê tu runner local

        steps:
            - name: Checkout repo
              uses: actions/checkout@v4

            - name: Validate frontend structure
              run: |
                  test -f frontend/mi-web/index.html
                  test -d frontend/mi-web/css
                  test -d frontend/mi-web/js

            - name: Build frontend Docker image
              run: |
                  docker build \
                    -f frontend/Dockerfile.prod \
                    -t wellness-frontend:ci \
                    frontend/
